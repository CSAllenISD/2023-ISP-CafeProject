{"version":3,"names":["MutableValue","constructor","value","setter","_id","MUTABLE_ID","_value","_setter","nextValue","_setValue","newValue","_triggerListener","addListener","listener","_listeners","push","i","len","length"],"sources":["MutableValue.ts"],"sourcesContent":["export default class MutableValue<T> {\n  static MUTABLE_ID = 1;\n  _id: number;\n  _value: T;\n  _setter: (value: T) => void;\n  _animation = null;\n  _listeners: (() => void)[] = [];\n\n  constructor(value: T, setter: (value: T) => void) {\n    this._id = MutableValue.MUTABLE_ID++;\n    this._value = value;\n    this._setter = setter;\n  }\n\n  get value(): T {\n    return this._value;\n  }\n\n  set value(nextValue: T) {\n    this._setter(nextValue);\n  }\n\n  // this changes the value finally and is supposed to be called from this._setter\n  _setValue(newValue: T): void {\n    this._value = newValue;\n    this._triggerListener();\n  }\n\n  addListener(listener: () => void): void {\n    this._listeners.push(listener);\n  }\n\n  _triggerListener(): void {\n    for (let i = 0, len = this._listeners.length; i < len; ++i) {\n      this._listeners[i]();\n    }\n  }\n}\n"],"mappings":";;AAAA,eAAe,MAAMA,YAAN,CAAsB;EAQnCC,WAAW,CAACC,KAAD,EAAWC,MAAX,EAAuC;IAAA;;IAAA;;IAAA;;IAAA,oCAHrC,IAGqC;;IAAA,oCAFrB,EAEqB;;IAChD,KAAKC,GAAL,GAAWJ,YAAY,CAACK,UAAb,EAAX;IACA,KAAKC,MAAL,GAAcJ,KAAd;IACA,KAAKK,OAAL,GAAeJ,MAAf;EACD;;EAEQ,IAALD,KAAK,GAAM;IACb,OAAO,KAAKI,MAAZ;EACD;;EAEQ,IAALJ,KAAK,CAACM,SAAD,EAAe;IACtB,KAAKD,OAAL,CAAaC,SAAb;EACD,CApBkC,CAsBnC;;;EACAC,SAAS,CAACC,QAAD,EAAoB;IAC3B,KAAKJ,MAAL,GAAcI,QAAd;;IACA,KAAKC,gBAAL;EACD;;EAEDC,WAAW,CAACC,QAAD,EAA6B;IACtC,KAAKC,UAAL,CAAgBC,IAAhB,CAAqBF,QAArB;EACD;;EAEDF,gBAAgB,GAAS;IACvB,KAAK,IAAIK,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKH,UAAL,CAAgBI,MAAtC,EAA8CF,CAAC,GAAGC,GAAlD,EAAuD,EAAED,CAAzD,EAA4D;MAC1D,KAAKF,UAAL,CAAgBE,CAAhB;IACD;EACF;;AApCkC;;gBAAhBhB,Y,gBACC,C"}