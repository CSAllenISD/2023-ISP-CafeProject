{"version":3,"names":["NativeReanimated","constructor","native","global","__reanimatedModuleProxy","undefined","ReanimatedModule","NativeModules","installTurboModule","InnerNativeModule","console","error","checkVersion","installCoreFunctions","callGuard","valueUnpacker","makeShareableClone","value","shouldPersistRemote","makeSynchronizedDataHolder","valueRef","getDataSynchronously","ref","updateDataSynchronously","scheduleOnUI","shareable","registerSensor","sensorType","interval","iosReferenceFrame","handler","unregisterSensor","sensorId","registerEventHandler","eventHash","eventHandler","unregisterEventHandler","id","getViewProp","viewTag","propName","callback","configureLayoutAnimation","type","sharedTransitionTag","config","enableLayoutAnimations","flag","configureProps","uiProps","nativeProps","subscribeForKeyboardEvents","isStatusBarTranslucent","unsubscribeFromKeyboardEvents","listenerId"],"sources":["NativeReanimated.ts"],"sourcesContent":["import { NativeModules } from 'react-native';\nimport {\n  ShareableRef,\n  ShareableSyncDataHolderRef,\n  Value3D,\n  ValueRotation,\n} from '../commonTypes';\nimport {\n  LayoutAnimationFunction,\n  LayoutAnimationType,\n} from '../layoutReanimation';\nimport { checkVersion } from '../platform-specific/checkVersion';\n\nexport class NativeReanimated {\n  native: boolean;\n  private InnerNativeModule: any;\n\n  constructor(native = true) {\n    if (global.__reanimatedModuleProxy === undefined && native) {\n      const { ReanimatedModule } = NativeModules;\n      ReanimatedModule?.installTurboModule();\n    }\n    this.InnerNativeModule = global.__reanimatedModuleProxy;\n    this.native = native;\n    if (native) {\n      if (this.InnerNativeModule === undefined) {\n        console.error(\n          `[Reanimated] The native part of Reanimated doesn't seem to be initialized. This could be caused by\\n\\\n  - not rebuilding the app after installing or upgrading Reanimated\\n\\\n  - trying to run Reanimated on an unsupported platform\\n\\\n  - running in a brownfield app without manually initializing the native library`\n        );\n        return;\n      }\n      checkVersion();\n    }\n  }\n\n  installCoreFunctions(\n    callGuard: <T extends Array<any>, U>(\n      fn: (...args: T) => U,\n      ...args: T\n    ) => void,\n    valueUnpacker: <T>(value: T) => T\n  ): void {\n    return this.InnerNativeModule.installCoreFunctions(\n      callGuard,\n      valueUnpacker\n    );\n  }\n\n  makeShareableClone<T>(\n    value: T,\n    shouldPersistRemote: boolean\n  ): ShareableRef<T> {\n    return this.InnerNativeModule.makeShareableClone(\n      value,\n      shouldPersistRemote\n    );\n  }\n\n  makeSynchronizedDataHolder<T>(\n    valueRef: ShareableRef<T>\n  ): ShareableSyncDataHolderRef<T> {\n    return this.InnerNativeModule.makeSynchronizedDataHolder(valueRef);\n  }\n\n  getDataSynchronously<T>(ref: ShareableSyncDataHolderRef<T>): T {\n    return this.InnerNativeModule.getDataSynchronously(ref);\n  }\n\n  updateDataSynchronously<T>(\n    ref: ShareableSyncDataHolderRef<T>,\n    value: T\n  ): void {\n    this.InnerNativeModule.updateDataSynchronously(ref, value);\n  }\n\n  scheduleOnUI<T>(shareable: ShareableRef<T>) {\n    return this.InnerNativeModule.scheduleOnUI(shareable);\n  }\n\n  registerSensor<T>(\n    sensorType: number,\n    interval: number,\n    iosReferenceFrame: number,\n    handler: ShareableRef<T> | ((data: Value3D | ValueRotation) => void)\n  ) {\n    return this.InnerNativeModule.registerSensor(\n      sensorType,\n      interval,\n      iosReferenceFrame,\n      handler\n    );\n  }\n\n  unregisterSensor(sensorId: number) {\n    return this.InnerNativeModule.unregisterSensor(sensorId);\n  }\n\n  registerEventHandler<T>(\n    eventHash: string,\n    eventHandler: ShareableRef<T>\n  ): string {\n    return this.InnerNativeModule.registerEventHandler(eventHash, eventHandler);\n  }\n\n  unregisterEventHandler(id: string): void {\n    return this.InnerNativeModule.unregisterEventHandler(id);\n  }\n\n  getViewProp<T>(\n    viewTag: string,\n    propName: string,\n    callback?: (result: T) => void\n  ): Promise<T> {\n    return this.InnerNativeModule.getViewProp(viewTag, propName, callback);\n  }\n\n  configureLayoutAnimation(\n    viewTag: number,\n    type: LayoutAnimationType,\n    sharedTransitionTag: string,\n    config: ShareableRef<Keyframe | LayoutAnimationFunction>\n  ) {\n    this.InnerNativeModule.configureLayoutAnimation(\n      viewTag,\n      type,\n      sharedTransitionTag,\n      config\n    );\n  }\n\n  enableLayoutAnimations(flag: boolean): void {\n    this.InnerNativeModule.enableLayoutAnimations(flag);\n  }\n\n  configureProps(uiProps: string[], nativeProps: string[]): void {\n    this.InnerNativeModule.configureProps(uiProps, nativeProps);\n  }\n\n  subscribeForKeyboardEvents(\n    handler: ShareableRef<number>,\n    isStatusBarTranslucent: boolean\n  ): number {\n    return this.InnerNativeModule.subscribeForKeyboardEvents(\n      handler,\n      isStatusBarTranslucent\n    );\n  }\n\n  unsubscribeFromKeyboardEvents(listenerId: number): void {\n    this.InnerNativeModule.unsubscribeFromKeyboardEvents(listenerId);\n  }\n}\n"],"mappings":"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"}