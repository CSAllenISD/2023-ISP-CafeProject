{"version":3,"names":["Extrapolate","EXTEND","CLAMP","IDENTITY","interpolateColorsHSV","value","inputRange","colors","options","h","useCorrectedHSVInterpolation","correctedInputRange","originalH","correctedH","i","length","d","push","interpolate","s","v","a","hsvToColor","toLinearSpace","x","gamma","map","Math","pow","toGammaSpace","round","interpolateColorsRGB","r","outputR","g","outputG","b","outputB","rgbaColor","getInterpolateRGB","color","processedColor","processColor","undefined","red","green","blue","opacity","getInterpolateHSV","processedHSVColor","RGBtoHSV","interpolateColor","outputRange","colorSpace","Error","ColorSpace","useInterpolateConfig","RGB","useSharedValue","cache","makeMutable","interpolateSharableColor","interpolateConfig","HSV"],"sources":["interpolateColor.ts"],"sourcesContent":["import {\n  hsvToColor,\n  RGBtoHSV,\n  rgbaColor,\n  processColor,\n  red,\n  green,\n  blue,\n  opacity,\n} from './Colors';\nimport { makeMutable } from './core';\nimport { interpolate } from './interpolation';\nimport { SharedValue } from './commonTypes';\nimport { useSharedValue } from './hook/useSharedValue';\n\nexport const Extrapolate = {\n  EXTEND: 'extend',\n  CLAMP: 'clamp',\n  IDENTITY: 'identity',\n};\n\nexport type InterpolationOptions = {\n  gamma?: number;\n  useCorrectedHSVInterpolation?: boolean;\n};\n\nconst interpolateColorsHSV = (\n  value: number,\n  inputRange: readonly number[],\n  colors: InterpolateHSV,\n  options: InterpolationOptions\n) => {\n  'worklet';\n  let h = 0;\n  const { useCorrectedHSVInterpolation = true } = options;\n  if (useCorrectedHSVInterpolation) {\n    // if the difference between hues in a range is > 180 deg\n    // then move the hue at the right end of the range +/- 360 deg\n    // and add the next point in the original place + 0.00001 with original hue\n    // to not break the next range\n    const correctedInputRange = [inputRange[0]];\n    const originalH = colors.h;\n    const correctedH = [originalH[0]];\n\n    for (let i = 1; i < originalH.length; ++i) {\n      const d = originalH[i] - originalH[i - 1];\n      if (originalH[i] > originalH[i - 1] && d > 0.5) {\n        correctedInputRange.push(inputRange[i]);\n        correctedInputRange.push(inputRange[i] + 0.00001);\n        correctedH.push(originalH[i] - 1);\n        correctedH.push(originalH[i]);\n      } else if (originalH[i] < originalH[i - 1] && d < -0.5) {\n        correctedInputRange.push(inputRange[i]);\n        correctedInputRange.push(inputRange[i] + 0.00001);\n        correctedH.push(originalH[i] + 1);\n        correctedH.push(originalH[i]);\n      } else {\n        correctedInputRange.push(inputRange[i]);\n        correctedH.push(originalH[i]);\n      }\n    }\n    h =\n      (interpolate(value, correctedInputRange, correctedH, Extrapolate.CLAMP) +\n        1) %\n      1;\n  } else {\n    h = interpolate(value, inputRange, colors.h, Extrapolate.CLAMP);\n  }\n  const s = interpolate(value, inputRange, colors.s, Extrapolate.CLAMP);\n  const v = interpolate(value, inputRange, colors.v, Extrapolate.CLAMP);\n  const a = interpolate(value, inputRange, colors.a, Extrapolate.CLAMP);\n  return hsvToColor(h, s, v, a);\n};\n\nconst toLinearSpace = (x: number[], gamma: number): number[] => {\n  'worklet';\n  return x.map((v) => Math.pow(v / 255, gamma));\n};\n\nconst toGammaSpace = (x: number, gamma: number): number => {\n  'worklet';\n  return Math.round(Math.pow(x, 1 / gamma) * 255);\n};\n\nconst interpolateColorsRGB = (\n  value: number,\n  inputRange: readonly number[],\n  colors: InterpolateRGB,\n  options: InterpolationOptions\n) => {\n  'worklet';\n  const { gamma = 2.2 } = options;\n  let { r: outputR, g: outputG, b: outputB } = colors;\n  if (gamma !== 1) {\n    outputR = toLinearSpace(outputR, gamma);\n    outputG = toLinearSpace(outputG, gamma);\n    outputB = toLinearSpace(outputB, gamma);\n  }\n  const r = interpolate(value, inputRange, outputR, Extrapolate.CLAMP);\n  const g = interpolate(value, inputRange, outputG, Extrapolate.CLAMP);\n  const b = interpolate(value, inputRange, outputB, Extrapolate.CLAMP);\n  const a = interpolate(value, inputRange, colors.a, Extrapolate.CLAMP);\n  if (gamma === 1) {\n    return rgbaColor(r, g, b, a);\n  }\n  return rgbaColor(\n    toGammaSpace(r, gamma),\n    toGammaSpace(g, gamma),\n    toGammaSpace(b, gamma),\n    a\n  );\n};\n\ninterface InterpolateRGB {\n  r: number[];\n  g: number[];\n  b: number[];\n  a: number[];\n}\n\nconst getInterpolateRGB = (\n  colors: readonly (string | number)[]\n): InterpolateRGB => {\n  'worklet';\n\n  const r = [];\n  const g = [];\n  const b = [];\n  const a = [];\n  for (let i = 0; i < colors.length; ++i) {\n    const color = colors[i];\n    const processedColor = processColor(color);\n    // explicit check in case if processedColor is 0\n    if (processedColor !== null && processedColor !== undefined) {\n      r.push(red(processedColor));\n      g.push(green(processedColor));\n      b.push(blue(processedColor));\n      a.push(opacity(processedColor));\n    }\n  }\n  return { r, g, b, a };\n};\n\ninterface InterpolateHSV {\n  h: number[];\n  s: number[];\n  v: number[];\n  a: number[];\n}\n\nconst getInterpolateHSV = (\n  colors: readonly (string | number)[]\n): InterpolateHSV => {\n  'worklet';\n  const h = [];\n  const s = [];\n  const v = [];\n  const a = [];\n  for (let i = 0; i < colors.length; ++i) {\n    const color = colors[i];\n    const processedColor = processColor(color) as any;\n    if (typeof processedColor === 'number') {\n      const processedHSVColor = RGBtoHSV(\n        red(processedColor),\n        green(processedColor),\n        blue(processedColor)\n      );\n\n      h.push(processedHSVColor.h);\n      s.push(processedHSVColor.s);\n      v.push(processedHSVColor.v);\n      a.push(opacity(processedColor));\n    }\n  }\n  return { h, s, v, a };\n};\n\nexport const interpolateColor = (\n  value: number,\n  inputRange: readonly number[],\n  outputRange: readonly (string | number)[],\n  colorSpace: 'RGB' | 'HSV' = 'RGB',\n  options: InterpolationOptions = {}\n): string | number => {\n  'worklet';\n  if (colorSpace === 'HSV') {\n    return interpolateColorsHSV(\n      value,\n      inputRange,\n      getInterpolateHSV(outputRange),\n      options\n    );\n  } else if (colorSpace === 'RGB') {\n    return interpolateColorsRGB(\n      value,\n      inputRange,\n      getInterpolateRGB(outputRange),\n      options\n    );\n  }\n  throw new Error(\n    `Invalid color space provided: ${colorSpace}. Supported values are: ['RGB', 'HSV']`\n  );\n};\n\nexport enum ColorSpace {\n  RGB = 0,\n  HSV = 1,\n}\n\nexport interface InterpolateConfig {\n  inputRange: readonly number[];\n  outputRange: readonly (string | number)[];\n  colorSpace: ColorSpace;\n  cache: SharedValue<InterpolateRGB | InterpolateHSV | null>;\n  options: InterpolationOptions;\n}\n\nexport function useInterpolateConfig(\n  inputRange: readonly number[],\n  outputRange: readonly (string | number)[],\n  colorSpace = ColorSpace.RGB,\n  options: InterpolationOptions = {}\n): SharedValue<InterpolateConfig> {\n  return useSharedValue<InterpolateConfig>({\n    inputRange,\n    outputRange,\n    colorSpace,\n    cache: makeMutable<InterpolateRGB | InterpolateHSV | null>(null),\n    options,\n  });\n}\n\nexport const interpolateSharableColor = (\n  value: number,\n  interpolateConfig: SharedValue<InterpolateConfig>\n): string | number => {\n  'worklet';\n  let colors = interpolateConfig.value.cache.value;\n  if (interpolateConfig.value.colorSpace === ColorSpace.RGB) {\n    if (!colors) {\n      colors = getInterpolateRGB(interpolateConfig.value.outputRange);\n      interpolateConfig.value.cache.value = colors;\n    }\n    return interpolateColorsRGB(\n      value,\n      interpolateConfig.value.inputRange,\n      colors as InterpolateRGB,\n      interpolateConfig.value.options\n    );\n  } else if (interpolateConfig.value.colorSpace === ColorSpace.HSV) {\n    if (!colors) {\n      colors = getInterpolateHSV(interpolateConfig.value.outputRange);\n      interpolateConfig.value.cache.value = colors;\n    }\n    return interpolateColorsHSV(\n      value,\n      interpolateConfig.value.inputRange,\n      colors as InterpolateHSV,\n      interpolateConfig.value.options\n    );\n  }\n  throw new Error(\n    `Invalid color space provided: ${interpolateConfig.value.colorSpace}. Supported values are: ['RGB', 'HSV']`\n  );\n};\n"],"mappings":"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"}