{"version":3,"names":["AnimatedFlatList","createAnimatedComponent","FlatList","createCellRenderer","itemLayoutAnimation","cellStyle","cellRenderer","props","onLayout","children","ReanimatedFlatlist","forwardRef","ref","restProps","inverted","horizontal","styles","horizontallyInverted","verticallyInverted","undefined","React","useMemo","StyleSheet","create","transform","scaleY","scaleX"],"sources":["FlatList.tsx"],"sourcesContent":["import React, { ForwardedRef, forwardRef } from 'react';\nimport {\n  FlatList,\n  FlatListProps,\n  LayoutChangeEvent,\n  StyleSheet,\n} from 'react-native';\nimport ReanimatedView from './View';\nimport createAnimatedComponent from '../../createAnimatedComponent';\nimport { ILayoutAnimationBuilder } from '../layoutReanimation/animationBuilder/commonTypes';\nimport { StyleProps } from '../commonTypes';\n\nconst AnimatedFlatList = createAnimatedComponent(FlatList as any) as any;\n\ninterface AnimatedFlatListProps {\n  onLayout: (event: LayoutChangeEvent) => void;\n  // implicit `children` prop has been removed in @types/react^18.0.0\n  children: React.ReactNode;\n  inverted?: boolean;\n  horizontal?: boolean;\n}\n\nconst createCellRenderer = (\n  itemLayoutAnimation?: ILayoutAnimationBuilder,\n  cellStyle?: StyleProps\n) => {\n  const cellRenderer = (props: AnimatedFlatListProps) => {\n    return (\n      <ReanimatedView\n        layout={itemLayoutAnimation}\n        onLayout={props.onLayout}\n        style={cellStyle}>\n        {props.children}\n      </ReanimatedView>\n    );\n  };\n\n  return cellRenderer;\n};\n\nexport interface ReanimatedFlatListProps<ItemT> extends FlatListProps<ItemT> {\n  itemLayoutAnimation?: ILayoutAnimationBuilder;\n}\n\ntype ReanimatedFlatListFC<T = any> = React.FC<ReanimatedFlatListProps<T>>;\n\nconst ReanimatedFlatlist: ReanimatedFlatListFC = forwardRef(\n  (props: ReanimatedFlatListProps<any>, ref: ForwardedRef<FlatList>) => {\n    const { itemLayoutAnimation, ...restProps } = props;\n\n    const cellStyle = restProps?.inverted\n      ? restProps?.horizontal\n        ? styles.horizontallyInverted\n        : styles.verticallyInverted\n      : undefined;\n\n    const cellRenderer = React.useMemo(\n      () => createCellRenderer(itemLayoutAnimation, cellStyle),\n      [cellStyle]\n    );\n\n    return (\n      <AnimatedFlatList\n        ref={ref}\n        {...restProps}\n        CellRendererComponent={cellRenderer}\n      />\n    );\n  }\n);\n\nconst styles = StyleSheet.create({\n  verticallyInverted: { transform: [{ scaleY: -1 }] },\n  horizontallyInverted: { transform: [{ scaleX: -1 }] },\n});\n\nexport default ReanimatedFlatlist;\n"],"mappings":";;;;;;;AAAA;;AACA;;AAMA;;AACA;;;;;;;;;;AAIA,MAAMA,gBAAgB,GAAG,IAAAC,gCAAA,EAAwBC,qBAAxB,CAAzB;;AAUA,MAAMC,kBAAkB,GAAG,CACzBC,mBADyB,EAEzBC,SAFyB,KAGtB;EACH,MAAMC,YAAY,GAAIC,KAAD,IAAkC;IACrD,oBACE,6BAAC,aAAD;MACE,MAAM,EAAEH,mBADV;MAEE,QAAQ,EAAEG,KAAK,CAACC,QAFlB;MAGE,KAAK,EAAEH;IAHT,GAIGE,KAAK,CAACE,QAJT,CADF;EAQD,CATD;;EAWA,OAAOH,YAAP;AACD,CAhBD;;AAwBA,MAAMI,kBAAwC,gBAAG,IAAAC,iBAAA,EAC/C,CAACJ,KAAD,EAAsCK,GAAtC,KAAsE;EACpE,MAAM;IAAER,mBAAF;IAAuB,GAAGS;EAA1B,IAAwCN,KAA9C;EAEA,MAAMF,SAAS,GAAGQ,SAAS,SAAT,IAAAA,SAAS,WAAT,IAAAA,SAAS,CAAEC,QAAX,GACdD,SAAS,SAAT,IAAAA,SAAS,WAAT,IAAAA,SAAS,CAAEE,UAAX,GACEC,MAAM,CAACC,oBADT,GAEED,MAAM,CAACE,kBAHK,GAIdC,SAJJ;;EAMA,MAAMb,YAAY,GAAGc,cAAA,CAAMC,OAAN,CACnB,MAAMlB,kBAAkB,CAACC,mBAAD,EAAsBC,SAAtB,CADL,EAEnB,CAACA,SAAD,CAFmB,CAArB;;EAKA,oBACE,6BAAC,gBAAD;IACE,GAAG,EAAEO;EADP,GAEMC,SAFN;IAGE,qBAAqB,EAAEP;EAHzB,GADF;AAOD,CAtB8C,CAAjD;;AAyBA,MAAMU,MAAM,GAAGM,uBAAA,CAAWC,MAAX,CAAkB;EAC/BL,kBAAkB,EAAE;IAAEM,SAAS,EAAE,CAAC;MAAEC,MAAM,EAAE,CAAC;IAAX,CAAD;EAAb,CADW;EAE/BR,oBAAoB,EAAE;IAAEO,SAAS,EAAE,CAAC;MAAEE,MAAM,EAAE,CAAC;IAAX,CAAD;EAAb;AAFS,CAAlB,CAAf;;eAKehB,kB"}