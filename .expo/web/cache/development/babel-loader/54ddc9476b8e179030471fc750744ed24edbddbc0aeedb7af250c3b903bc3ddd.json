{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from \"expo-status-bar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport * as SQLite from 'expo-sqlite';\nimport { useState, useEffect } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CartScreen(_ref) {\n  var navigation = _ref.navigation;\n  var db = SQLite.openDatabase('MenuItems.db');\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    items = _useState4[0],\n    setItems = _useState4[1];\n  var _useState5 = useState(undefined),\n    _useState6 = _slicedToArray(_useState5, 2),\n    currentItem = _useState6[0],\n    setCurrentItem = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    price = _useState8[0],\n    setPrice = _useState8[1];\n  var _useState9 = useState(undefined),\n    _useState10 = _slicedToArray(_useState9, 2),\n    currentprice = _useState10[0],\n    setCurrentPrice = _useState10[1];\n  useEffect(function () {\n    db.transaction(function (tx) {\n      tx.executeSql('CREATE TABLE IF NOT EXISTS items (id INTEGER PRIMARY KEY AUTOINCREMENT, item TEXT, price TEXT)');\n    });\n    db.transaction(function (tx) {\n      tx.executeSql('SELECT * FROM items', null, function (txObj, resultSet) {\n        return setItems(resultSet.rows._array);\n      }, function (txObj, error) {\n        return console.log(error);\n      });\n    });\n    setIsLoading(false);\n  }, []);\n  var refreshItems = function refreshItems() {\n    navigation.navigate(\"Menu\");\n    navigation.navigate(\"Checkout\");\n  };\n  if (isLoading) {\n    return _jsx(View, {\n      style: styles.container,\n      children: _jsx(Text, {\n        children: \"Loading ...\"\n      })\n    });\n  }\n  if (currentItem == \"100\") {\n    return _jsx(View, {\n      children: _jsx(Text, {\n        children: \"Burger\"\n      })\n    });\n  }\n  var addItem = function addItem() {\n    db.transaction(function (tx) {\n      tx.executeSql('INSERT INTO items (item) values (?)', [currentItem], function (txObj, resultSet) {\n        var existingItems = _toConsumableArray(items);\n        existingItems.push({\n          id: resultSet.insertId,\n          Item: currentItem\n        });\n        setItems(existingItems);\n        setCurrentItem(undefined);\n        navigation.navigate(\"Menu\");\n        navigation.navigate(\"Checkout\");\n      }, function (txObj, error) {\n        return console.log(error);\n      });\n    });\n  };\n  var deleteItem = function deleteItem(id) {\n    db.transaction(function (tx) {\n      tx.executeSql('DELETE FROM items WHERE id = ?', [id], function (txObj, resultSet) {\n        if (resultSet.rowsAffected > 0) {\n          var existingItems = _toConsumableArray(items).filter(function (item) {\n            return item.id !== id;\n          });\n          setItems(existingItems);\n        }\n      }, function (txObj, error) {\n        return console.log(error);\n      });\n    });\n  };\n  var showItems = function showItems() {\n    return items.map(function (item, index) {\n      return _jsxs(View, {\n        style: styles.row,\n        children: [_jsx(Text, {\n          children: item.item\n        }), _jsx(Button, {\n          title: \"Delete\",\n          onPress: function onPress() {\n            return deleteItem(item.id);\n          }\n        })]\n      }, index);\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TextInput, {\n      value: currentItem,\n      placeholder: \"item\",\n      onChangeText: setCurrentItem\n    }), _jsx(Button, {\n      title: \"Add Item\",\n      onPress: addItem\n    }), _jsx(Button, {\n      title: \"Refresh\",\n      onPress: refreshItems\n    }), showItems(), _jsx(StatusBar, {\n      style: \"auto\"\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'stretch',\n    justifyContent: 'space-between',\n    margin: 8\n  }\n});","map":{"version":3,"names":["StatusBar","SQLite","useState","useEffect","CartScreen","navigation","db","openDatabase","isLoading","setIsLoading","items","setItems","undefined","currentItem","setCurrentItem","price","setPrice","currentprice","setCurrentPrice","transaction","tx","executeSql","txObj","resultSet","rows","_array","error","console","log","refreshItems","navigate","styles","container","addItem","existingItems","push","id","insertId","Item","deleteItem","rowsAffected","filter","item","showItems","map","index","row","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","flexDirection","alignSelf","margin"],"sources":["C:/Users/mcand/OneDrive/Documents/GitHub/2023-ISP-CafeProject/src/screens/CheckoutScreen.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport { StyleSheet, Text, View, TextInput, Button } from \"react-native\";\r\nimport * as SQLite from 'expo-sqlite';\r\nimport {useState, useEffect} from 'react';\r\n\r\n\r\nexport default function CartScreen({ navigation }) {\r\n    const db = SQLite.openDatabase('MenuItems.db')\r\n      const [isLoading, setIsLoading] = useState(true);\r\n      const [items, setItems] = useState([]);\r\n      const [currentItem, setCurrentItem] = useState(undefined);\r\n      const [price, setPrice] = useState([]);\r\n      const [currentprice, setCurrentPrice] = useState(undefined);\r\n     \r\n      useEffect(() => {\r\n        db.transaction(tx => {\r\n          tx.executeSql('CREATE TABLE IF NOT EXISTS items (id INTEGER PRIMARY KEY AUTOINCREMENT, item TEXT, price TEXT)')\r\n        });\r\n    \r\n        db.transaction(tx => {\r\n          tx.executeSql('SELECT * FROM items', null,\r\n            (txObj, resultSet) => setItems(resultSet.rows._array),\r\n            (txObj, error) => console.log(error)\r\n          );\r\n        });\r\n    \r\n          setIsLoading(false)\r\n        },[]);\r\n        const refreshItems = () => {\r\n            navigation.navigate(\"Menu\")\r\n            navigation.navigate(\"Checkout\")\r\n          };\r\n          \r\n      if (isLoading) {\r\n        return (\r\n            <View style={styles.container}>\r\n                <Text>Loading ...</Text>\r\n                </View>\r\n        );\r\n      }\r\n      if (currentItem == \"100\") {\r\n        return (\r\n            <View>\r\n            <Text>Burger</Text>\r\n            </View>\r\n        )\r\n      }\r\n\r\n   \r\n  \r\n\r\n      \r\n\r\n\r\n\r\n      const addItem = () => {\r\n        db.transaction(tx => {\r\n          tx.executeSql('INSERT INTO items (item) values (?)', [currentItem],\r\n            (txObj, resultSet) => {\r\n              let existingItems = [...items];\r\n           \r\n              existingItems.push({ id: resultSet.insertId, Item: currentItem});\r\n              setItems(existingItems);\r\n              setCurrentItem(undefined);\r\n             \r\n              navigation.navigate(\"Menu\")\r\n              navigation.navigate(\"Checkout\")\r\n            },\r\n            (txObj, error) => console.log(error)\r\n          );\r\n        });\r\n        \r\n      }\r\n\r\n\r\n\r\n\r\n\r\n      const deleteItem = (id) => {\r\n        db.transaction(tx => {\r\n          tx.executeSql('DELETE FROM items WHERE id = ?', [id],\r\n            (txObj, resultSet) => {\r\n              if (resultSet.rowsAffected > 0) {\r\n                let existingItems = [...items].filter(item => item.id !== id);\r\n                setItems(existingItems);\r\n              }\r\n            },\r\n            (txObj, error) => console.log(error)\r\n          );\r\n        });\r\n      };\r\n      \r\n      \r\n      const showItems = () => {\r\n        return items.map((item, index) => {\r\n          return (\r\n            <View key={index} style={styles.row}>\r\n              <Text>{item.item}</Text>\r\n              <Button title='Delete' onPress={() => deleteItem(item.id)} />\r\n     \r\n            </View>\r\n          );\r\n        });\r\n      };\r\n    \r\n\r\n\r\n      \r\n    return (\r\n        \r\n        <View style={styles.container}>\r\n            \r\n            <TextInput value={currentItem} placeholder=\"item\" onChangeText={setCurrentItem} />\r\n            \r\n            <Button title=\"Add Item\" onPress={addItem} />\r\n            <Button title=\"Refresh\" onPress={refreshItems} />\r\n      {showItems()}\r\n        <StatusBar style=\"auto\" />\r\n        </View>\r\n    \r\n);\r\n\r\n    }\r\n\r\n    const styles = StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n            backgroundColor: '#fff',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        },\r\n        row: {\r\n            flexDirection: 'row',\r\n            alignItems: 'center',\r\n            alignSelf: 'stretch',\r\n            justifyContent: 'space-between',\r\n            margin: 8\r\n        }\r\n    });"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}